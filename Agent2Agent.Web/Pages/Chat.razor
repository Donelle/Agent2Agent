@page "/"

<div class="row align-items-center justify-content-center full-height">
    <h3>Chat</h3>
    <div class="chat-container">
        <div class="message-area">
            @foreach (var message in messages)
            {
                <div class="message @(message.StartsWith("User:") ? "sent" : "received")">
                    @message
                </div>
            }
        </div>

        <div class="typing-indicator" style="display: @(isTyping ? "block" : "none")">
            <span>Someone is typing...</span>
        </div>

        <div class="input-area">
            <textarea @bind="currentMessage" @oninput="NotifyTyping" placeholder="Type a message..." rows="2"></textarea>
            <button class="send-button" @onclick="SendMessage">Send</button>
            <label class="file-upload">
                <InputFile OnChange="UploadFiles" Multiple="true" />
                <span>ðŸ“Ž Attach</span>
            </label>
        </div>
    </div>
</div>

<Preload />